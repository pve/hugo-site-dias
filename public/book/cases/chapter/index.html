<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>&#39;Cases&#39; | Digital Infrastructures at Scale</title>
<meta name="keywords" content="">
<meta name="description" content="
In order to illustrate the development of technology through tracking the development of LLM related tooling.
In December 2023 (check) ChatGPT came out.
Within days people from around the world were using it.
RAG - companies
Langchain
Agents
MCP and A2A
MCP spinoffs


Detection
I should have acted on the first signals more aggressively. But let‚Äôs talk about that later in this story.
Here is the story of my site being infected with malware, viewed by a professional cloud security expert. So I am going to apply all that cloud security theory to it.">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/book/cases/chapter/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.678402628decf506127431a1841c9ce87fb7307134098e3601990b6ba55c49b9.css" integrity="sha256-Z4QCYo3s9QYSdDGhhByc6H&#43;3MHE0CY42AZkLa6VcSbk=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/book/cases/chapter/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Digital Infrastructures at Scale (Alt + H)">Digital Infrastructures at Scale</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/book/" title="Book">
                    <span>Book</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/posts/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://www.amazon.com/Digital-Power-Infrastructures-Scale-Value/dp/B0FG1NPWLL" title="Hard copy">
                    <span>Hard copy</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="üîé Search (Alt &#43; /)" accesskey=/>
                    <span>üîé Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;¬ª&nbsp;<a href="http://localhost:1313/book/">Contents</a>&nbsp;¬ª&nbsp;<a href="http://localhost:1313/book/cases/">Cases</a></div>
    <h1 class="post-title entry-hint-parent">
      &#39;Cases&#39;
    </h1>
    <div class="post-meta">

</div>
  </header> 

  
  <i>‚è≥ 13 min read</i>
  
  <div class="post-content"><hr>
<p>In order to illustrate the development of technology through tracking the development of LLM related tooling.</p>
<p>In December 2023 (check) ChatGPT came out.
Within days people from around the world were using it.</p>
<p>RAG - companies
Langchain</p>
<p>Agents</p>
<p>MCP and A2A</p>
<p>MCP spinoffs</p>
<hr>
<hr>
<h3 id="detection">Detection<a hidden class="anchor" aria-hidden="true" href="#detection">#</a></h3>
<p>I should have acted on the first signals more aggressively. But let‚Äôs talk about that later in this story.
Here is the story of my site being infected with malware, viewed by a professional cloud security expert. So I am going to apply all that cloud security theory to it.</p>
<p>The hack led to business damage at the end of one of my webinars. In 2016, on a Friday, I did a webinar, at the end of which I had two links to my site as a call to action.</p>
<p>However, three participants reported in the chat that they could not access those links as their corporate firewalls blocked them. Three different security programs (Microsoft, McAfee, and Kaspersky) rated the site as unsafe for various reasons, ranging from detected Trojans to mention of ‚ÄúMalicious software threat: This site contains links to viruses or other software programs that can reveal personal information stored or typed on your computer to malicious persons‚Äù.</p>
<p>So, instead of continuing the conversation of how I could be of help to these people, and talk about my next program, I stalled. Nobody bought my program. Business lost. And my time suddenly had to be diverted to fixing this. Another loss. This is all real damage. The only upside is that I can write this article about it.</p>
<p>That was the detection phase, one of the phases of the NIST incident response process. As I mentioned, I could have found it earlier. For more information on the NIST incident response process guidance at the time of this incident, you can refer to the <a href="https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-61r2.pdf">NIST Special Publication 800-61 Revision 2</a>. A new version is in preparation.</p>
<h3 id="analysis-and-eradication">Analysis and Eradication<a hidden class="anchor" aria-hidden="true" href="#analysis-and-eradication">#</a></h3>
<p>Now for the analysis and eradication phase. What the heck was going on? I had very little luck in getting the security programs to tell me what was wrong with the site. <a href="http://www.virustotal.com">Virustotal</a>, which aggregates reports from security providers, reported 1 hit by Yandex, though the diagnostics on their webmaster pages were vague. McAfee and Kaspersky did not seem to have any service that is helpful with this.</p>
<p>In the meantime, three more reports came in on the site, adding TrendMicro to the list of blockers.
It took my site manager until Tuesday to fix it. Very disappointing. He also was not very communicative about the real underlying problem, other than that is was caused by a WordPress plugin that had not been updated. He did manage to restore the site and clean it. I think.</p>
<p>After I discovered the problem, independently I got a report from a SEO expert, who noticed funny code in the pages, and weird statistics in the analytics. He told me that the malware was in fact a five-year-old Mozilla exploit, which is number 17974 on exploit-db (No link to that exploit, because it gives my site a bad reputation).</p>
<p>It appeared to be an automated infection targeted at Mozilla users who had not updated their browsers. My site did not store any customer data, all form submissions go to a separate autoresponder and shopping cart service. So no data was lost or breached.</p>
<h3 id="recovery">Recovery<a hidden class="anchor" aria-hidden="true" href="#recovery">#</a></h3>
<p>Now for the recovery phase. Malware gone does not equal business problem gone. Even though the malware was erased, my site‚Äôs reputation was still suffering.</p>
<p>Getting off the blacklists is a hard process; they seem to parrot and echo each other. A week after the alleged site fix, I managed to get it off one or two engines. But it is still listed at Yandex, Clean MX, SCUMWARE and CRDF, all of whom don‚Äôt appear to have an expedient process of getting off their blacklist. <a href="http://www.urlvoid.com/scan/clubcloudcomputing.com/">http://www.urlvoid.com/scan/clubcloudcomputing.com/</a> actually increased the number of blacklisting sites in the past days and added Fortinet‚Äôs FortiGuard.</p>
<p>One of the engines rates my site as bad because it links to a bad site, namely itself. How Catch 22 can you become?</p>
<p>Sounds like a bad vigilante movie, where the main characters don‚Äôt care too much about the collateral damage they inflict. Listing malware sites is easy enough, delisting apparently is harder.</p>
<p>So this reputation might haunt me for who knows how long. Maybe the domain will never really recover.</p>
<p>On the positive side, some corporate firewalls reset the reputation after a few weeks. But be aware that most corporate firewalls are extremely paranoid, as they probably should be. Just having a simple link in my email message pointing to my homepage had that message marked as [SUSPICIOUS MESSAGE] by one of the big four advisory firms.</p>
<h3 id="preparation">Preparation<a hidden class="anchor" aria-hidden="true" href="#preparation">#</a></h3>
<p>Finally, back to preparation. What could we have done to prevent this, or at least reduce the impact of the problem?</p>
<p>I have a backup running of this website. It is a WordPress plugin that dumps the entire site‚Äôs content in a DropBox which is synced to my PC. Weeks before the webinar, I had installed F-Secure on the PC, and it barked on one of the files in the DropBox folder. I reported this to my website manager, but I knew that it was in a part of the website that was not in use, nor accessible to the users of the website. That led me to believe it was a false positive, but I should have known better.</p>
<p>In the end, having the site itself generate a backup is not sufficient. The advantage is that the backup should be easy to restore, but malware might take the backup software or its configuration as a first target. In fact, I suspect that in my case the malware created a few hundred thousand files, which clogged my DropBox synchronization. However, I could not finish the forensics on that.</p>
<p>The site manager restored the site from a filesystem backup. I did not have access to that.
Externally spidering the website, and versioning it may be better. At any rate, this is a case for generating fully static websites.</p>
<p>So, obviously the best direct preparation is regularly updating software and removing software you don‚Äôt need. Case in point: the malware was inserted into a piece of forum software that we never got to work properly. In the end we abandoned it in favor of a managed cloud solution (an e-learning platform).</p>
<h3 id="cloud-security-reference-model">Cloud security reference model<a hidden class="anchor" aria-hidden="true" href="#cloud-security-reference-model">#</a></h3>
<p>The cloud security reference model of the Cloud Security Alliance asks us to identify who is responsible for what piece of the software stack. I don‚Äôt think there is much confusion about who was supposed to keep the site‚Äôs software up to date. My site manager never denied that he was. But he did not put in any warning system, and ignored my F-Secure warning.
He also did not yet provide adequate forensics to me after the fact. Maybe a regular customer won‚Äôt need those details, I can see that. But I have professional interests beyond that, as this article proves.
Of course, my site manager is not the only one responsible for the software. He did not write it. The site‚Äôs software and plugins are either commercial or open source. Both have their own update policies or lack thereof. Both can be abandoned by their developers. But somebody needs to track that too.</p>
<p>Managing one custom WordPress website at a time is not likely to be a very viable business model in the long run. If your website is not very complicated functionally, you might consider static hosting, or move it to a cloud based website builder like squarespace.com or wix.com. You would still have to check their competence, but with thousands or hundreds of thousands of websites at stake, these companies are more likely to have the motivation and the resources to properly manage these risks.</p>
<p>As a business owner, I am ultimately accountable for all IT risks that affect my business. Remember, any provider, including a managed hosting provider, can fail. You need a plan B. I do have some backup of the most important documents on my site. I wrote them. But in the end, the most irrecoverable asset lost here might be the domain name. As a precaution against that, I could have considered to have the most important pages also hosted on another domain. In fact, I might have to do that, if this domain isn‚Äôt delisted quickly enough. It is a telling and disturbing sign that registrations for my newsletters these days mostly come from public email providers, not companies.</p>
<h3 id="wrapping-up">Wrapping up<a hidden class="anchor" aria-hidden="true" href="#wrapping-up">#</a></h3>
<p>I am disclosing my misfortune so that it may be of help to people. Whether you work in a large corporation or a small one, are on the consumer or on the provider side, you can use this case to improve your own management of IT risk.</p>
<p>What are the biggest lessons you should take?</p>
<p>Reputation damage that gets its way into the firewalls and proxies of customer companies leads to real and lasting business damage.</p>
<p>Exit and recovery plans can be considered on multiple levels. Sure, the basic backups matter, but at all times consider your business continuity from the top down, starting at your domain name.</p>
<hr>
<p>Even in a cloud world, reducing server count is a lofty goal in itself.</p>
<p>After all, you would be paying for all those servers anyway. Understand that sticking all your servers in a private cloud makes them more flexible, but not necessarily more efficient or cheaper.</p>
<p>Back in 2012 I did an interview with a guy who has a full time job in keeping those server counts down. Ron Kaminski is a capacity planner at Kimberly Clark Corporation (KCC). This interview is a composite of several conversations I had with Ron at the annual Computer Measurement Group (CMG) conferences, and a number of messages Ron wrote.</p>
<p><strong>Peter van Eijk</strong> : Ron, when you joined KCC you helped stop their trend of building a new computer room every 6 months, down to no new computer rooms at all. Is that right?</p>
<p><strong>Ron Kaminski</strong> : Yes Peter, that was basically what happened. As a result of the development of the business, there was a big growth in applications. Each of these applications brings in a lot of servers, because of the multi-tier architecture, and because you need test and development servers.</p>
<p><strong>Peter</strong> : Could you tell us a bit about the way your firm stopped the server growth? What are the most important tactics?</p>
<p><strong>Ron</strong> : Invisible machines proliferate, so make them visible. To begin with, automate the measurement and maintain web delivered graphical displays of the resource consumption of each and every server. This will allow you to identify unused and under used servers, which you can then repurpose to projects and applications that have a real need for them. A lot of times, a detailed performance analysis suggests changes in the application that will drastically reduce its resource needs. Think bad/missing database indexes, memory leaks, and runaway/looping processes.</p>
<p><strong>Peter</strong> : Everybody loves clouds these days, and if they can‚Äôt get any public clouds, they will settle for private clouds. What are the most relevant lessons for those adopters?</p>
<p><strong>Ron</strong> : Basically two lessons: You still need to do capacity planning, and you have to automate or you will fail.
Many folks say ‚ÄúWhy bother with capacity planning? The cloud is infinite!‚Äù and that is only true as long as your wallet is infinite too. We need to be sure that we have tracking and review of intended business volumes and costs, in order to make decisions about when we need to use or not use cloud resources intelligently and economically.</p>
<p><strong>Peter</strong> : Yes, computing is still not free. How far do you need to go with automation?</p>
<p><strong>Ron</strong> : Well, what we have learned is basically ‚ÄúAutomate or die!‚Äù both for creation and removal. If we expect to use either internal or external clouds, we need to stop doing setups that involve humans in any way. This means that we must have standardized services that are engineered and/or architected to be complete environments, including necessary databases and other services in place. There should also be administrative checking/post creation review, with removal if determined to be wasteful.</p>
<p>A key point that we need to have is the notion of ‚Äúserver lifespan‚Äù and automatic deletion at end of life. Folks will fight this until they get comfortable with how easy it is to get a new one. If we don‚Äôt have ‚Äúdelete at end of lifespan‚Äù all this automation will lead to massive server sprawl and OS image proliferation, and all cloud vendors are counting on this for their profits. They know that firms left to their own devices will ‚Äúcreate and forget‚Äù so they will continue to bill for unused servers. We need to get very good at noticing and removing dormant servers or risk large wasteful bills.
We also need automatic ‚Äúbackup/ archive and restore‚Äù of cloud resources, so that they can be completely restored swiftly in a totally automated manner.</p>
<p><strong>Peter</strong> : So what about performance analysis?</p>
<p><strong>Ron</strong> : The universally accepted best practice is to contractually demand collectors deployed in the clouds to allow performance analysis.
Naive business people will have quite a shock when they still have slowness issues when running in giant clouds, when their applications are not engineered to succeed in the method they are deployed. Examples of these include single-threaded applications, chatty applications over long network distances, and architectures with locking/latching issues. These will still have poor performance in the biggest cloud in the world.
The truth is we will still need development and testing in the cloud world, and check up on performance.</p>
<p><strong>Peter</strong> : The CMG community has a lot of technical deep dive experts, and they have taken to analyzing server virtualization in great detail. What where the most important lessons that you picked up from these presentations?</p>
<p><strong>Ron</strong> : The depth and complexity of issues covered in many sessions on VMware really made me wish that we sent more VMware resources to the CMG conference. In a nutshell:
We should be at the most recent versions, as the performance and scheduling losses on older ones sometimes exceed 30% or more of the physical machine‚Äôs resources.
One particularly surprising item was that when current VMware has a 4 VCPU ‚Äúguest‚Äù that is in a computable state, it waits to schedule it until all 4 CPUs are simultaneously free. More scarily, 8 VCPU guests wait to be scheduled until all 8 are free simultaneously. That means that there can be lots of waiting on relatively lightly loaded machines, say if there is a CPU loop in another guest slice. Since we have so many 8 VCPU mail systems, this really gave me the willies. We need to dig deeper on these and determine the performance losses this may be causing for us.</p>
<p><strong>Peter</strong> : What other policies come out of these experiences that you want to suggest to your IT management?</p>
<p><strong>Ron</strong> : VMware still takes some measurable amount of resources/overhead, and we really should avoid VMware for servers of any significant continuous consumption. We need to set a corporate policy for maximum usage allowed to be virtualized.</p>
<p><strong>Peter</strong> : Thanks ever so much Ron, is there any place online where people can go to get to know more about this stuff?</p>
<p><strong>Ron</strong> : <a href="http://www.cmg.org/">Join CMG</a> and get to the conferences.</p>
<hr>
<p>Cloud-native software development enables new practices. But it also requires them. It is a new level of working. However, putting all these new practices together requires integrating a lot of pieces.
To illustrate this new approach, I have started to develop a minimal application. Although minimal, I run it in production. Its basic function is to regularly pull out data from an air quality sensor into a cloud-based database. Together it is a few hundred lines of code.
Here are the major features of the example:</p>
<ul>
<li>API programming examples (Foobot, io.adafruit.com)</li>
<li>&lsquo;Server-less&rsquo; architecture</li>
<li>Google Cloud Platform focussed</li>
<li>Continuous delivery through Google Cloud Build</li>
<li>Version control</li>
<li>Automated unit, integration and security testing</li>
<li>BigQuery</li>
<li>Continuous monitoring through StackDriver</li>
<li>Slack integration for build and run notifications</li>
<li>Secrets and credentials management in a DevSecOps world</li>
<li>Workflow for Python-based development (atom, pyenv, pytest, bandit)</li>
</ul>
<p>You should be able to replicate this setup yourself.
More tutorial explanation is in my <a href="https://github.com/pve/foobotapi/blob/master/README.md">GitHub repository</a>. There you can find the code as well as a <a href="https://github.com/pve/foobotapi/blob/master/main.md">more detailed explanation</a>. In that, I dissect the full approach theme by theme, topic by topic.</p>


  </div>
  




  

  

  

  

  
    <nav class="book-nav" style="display: flex; justify-content: space-between; margin-top: 2rem;">
      
        
        <a href="/book/cases/stopping-senseless-sprawl-of-private-clouds/">&larr; Controlling Cloud Sprawl in 2012</a>
      
      
    </nav>
  



  

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
<script src="/audience-minutes.js"></script>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Digital Infrastructures at Scale</a></span> ¬∑ 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
